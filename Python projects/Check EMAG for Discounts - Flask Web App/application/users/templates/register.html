{% extends "template.html"%}

{% block body %}
    <header><h1>Register Username and Items</h1></header>
    <section class="create-item-form">
        <form  method="POST"  novalidate>
            {{ form.hidden_tag() }}
            <div class="mb-3">
                {{ form.username.label(class='form-label') }}
                {{ form.username(class='form-control') }}
                {% for error in form.username.errors %}
                  <span style="color: red;">[{{ error }}]</span>
                {% endfor %}
            </div>
            <div class="mb-3">
                {{ form.password.label(class='form-label') }}
                {{ form.password(class='form-control') }}
                {% for error in form.password.errors %}
                  <span style="color: red;">[{{ error }}]</span>
                {% endfor %}
            </div>
            <div class="mb-3">
                {{ form.email.label(class='form-label') }}
                {{ form.email(class='form-control') }}
                {% for error in form.email.errors %}
                  <span style="color: red;">[{{ error }}]</span>
                {% endfor %}
            </div>
                <div class="row mt-3">
                    <div class="col mb-3">
                        {{ form.submit(class='btn btn-primary') }}
                    </div>
                    <div class="col position-relative mb-3">
                        <a class="btn btn-outline-info position-absolute top-50 end-0 translate-middle" href="{{ url_for('users_auth.log_in') }}" role="button">To Login</a>
                    </div>
                </div>
        </form>
        {% if message and message.endswith('taken') %}
        <div class="alert alert-danger mt-3" role="alert">
            {{message}}
        </div>
        {% elif message and message.endswith('successful') %}
        <div class="alert alert-success mt-3" role="alert">
            {{message}}
        </div>
        {% endif %}
    </section>

{% endblock %}